import numpy as np
import matplotlib.pyplot as plt

# 3,4 마코 1차 패치 후 숙련도1 기준 코어 별 딜 상승량
Forsaken = [0,0.24511902635966365, 0.3647948748650931, 0.24429368269480722, 0.2436983430379236, 0.3643399343263187, 0.24288053833547707, 0.24229205808046217, 0.36387836521347694, 0.5179095272404899, 0.24710735057664746, 0.3699010409607517, 0.24624936565686983, 0.24564446771333515, 0.3693570153334269, 0.24479470496749922, 0.24419692382826597, 0.36880783276111995, 0.24335527763719167, 0.5279738234828857, 0.3736267565723095, 0.24688949385063275, 0.24628145082326025, 0.37301580743511753, 0.2454131695131645, 0.2448123677222247, 0.3724008497901776, 0.2439526252705937, 0.2433589447361051, 1.503048725227485]
Unbound = [0,0.6797682962168761, 0.061379876894518404, 0.06134222511224863, 0.06130461949456212, 0.061267059956571224, 0.06122954641367695, 0.06119207878136912, 0.06115465697549283, 0.061117280912026395, 0.3664797030424882, 0.06085692223918304, 0.06081990911439572, 0.060782940984904776, 0.06074601776877575, 0.06070913938420741, 0.06067230574950955, 0.06063551678339163, 0.06059877240456313, 0.060562072532088784, 0.3631525025105109, 0.06030641283769622, 0.06027006612279173, 0.0602337631939065, 0.06019750397190382, 0.06016128837795787, 0.060125116333309414, 0.060088987759510104, 0.060052902578244804, 0.06001686071133161, 0.6597894828899165]
Obsidian = [0,0.6057502414684279, 0.03270182603403171, 0.03269113543573621, 0.032680451825006784, 0.3084304512937397, 0.03495986724115774, 0.034947649589245344, 0.034935440473926604, 0.31631105445109053, 0.22302161818781308, 0.03708755642943817, 0.03707380666051474, 0.313639463444626, 0.03909821618153231, 0.03908293545089592, 0.03906766665999761, 0.2981588846175498, 0.04089341029822613, 0.040876694423852555, 0.24515995325826712, 0.30899462909332875, 0.04253101908513468, 0.04251293789940824, 0.04249487208078939, 0.31014220309224516, 0.044185751096081916, 0.04416623591294577, 0.044146737960581994, 0.2829868531451174, 0.5016142568756932]
Ultimate = [0,0.5193766003431355, 0.04697209251940393, 0.0469500391036215, 0.04692800638623762, 0.04690599433823106, 0.046884002930491775, 0.046862032133954123, 0.0468400819197301, 0.04681815225882069, 0.28077745873495985, 0.04666521771008458, 0.04664345144194115, 0.04662170546936295, 0.04659997976403929, 0.04657827429768169, 0.046556589041912844, 0.04653492396862191, 0.04651327904954261, 0.04649165425669732, 0.2788202973714293, 0.04634084188872567, 0.04631937709946854, 0.046297932185623836, 0.046276507119791255, 0.046255101874237425, 0.04623371642162866, 0.04621235073440921, 0.04619100478526761, 0.046169678546892357, 0.5076320919104482]
Evolve_tempest = [0,1.2994068236606537, 0.1166126207093221, 0.11647679406721068, 0.11634128347004502, 0.1162060878160176, 0.11607120600847232, 0.11593663695570466, 0.115802379571317, 0.11566843277375227, 0.6932087729193182, 0.11473941181778802, 0.11460791137447579, 0.11447671200577325, 0.11434581267910637, 0.11421521236631982, 0.11408491004396559, 0.1139549046935251, 0.11382519530056534, 0.11369578085613785, 0.6813999621287925, 0.1127980544544771, 0.11267096379929953, 0.11254415921053695, 0.1124176397230281, 0.11229140437669649, 0.1121654522150628, 0.1120397822867103, 0.11191439364361955, 0.11178928534287813, 1.2283090208950131]

Blast = [0,1.9423154299844203, 0.40634302806834555, 0.4790861572119942, 0.481789637326413, 0.40292953903118267, 0.47818918628428353, 0.4800987129583545, 0.39955783084997254, 0.47725727367493587, 0.478394132064186, 0.39622747101120126, 0.47629215119298074, 0.47667705742377997, 0.39293801992117405, 0.4752954834127632, 0.4749485996111691, 0.38968903189504633, 0.47426887008594765, 0.47320981908940407, 2.1092468059263014, 0.48210167886726385, 0.5103039583059132, 0.3936632281372976, 0.48082994808005264, 0.5088308149431064, 0.39042699664857405, 0.47953077687112877, 0.5073323764898996, 0.38722878586761045, 0.4782057717871435]
Discharge = [0,2.696279927446632, 0.40427468086277063, 0.40264688146720573, 0.40103213806998994, 0.39943029422104814, 0.39784119596142364, 0.3962646917720525, 0.3947006325277558, 0.3931488714450593, 0.3916092640432911, 0.3900816680933339, 0.3885659435790778, 0.3870619526507246, 0.3855695595842201, 0.3840886307425073, 0.3826190345317171, 0.38116064136590744, 0.3797133236259631, 0.37827695562531183, 0.3768514135708223, 0.37543657552929766, 0.3740323213899277, 0.3726385328350901, 0.37125509330266926, 0.3698818879542598, 0.36851880364641154, 0.3671657288943253, 0.3658225538478943, 0.36448917025699856, 0.3631654714436161]
Mastery_3rd = [0,1.0803394140673328, 0.5073545897492648, 0.5047934967745471, 0.5022581303953499, 0.49974810490689414, 0.4972630422767521, 0.4948025719542004, 0.49236633068647784, 0.4899539623400839, 0.487565117726807, 0.4851994544355698, 0.4828566366687159, 0.4805363350832037, 0.47823822663595195, 0.4759619944343152, 0.4737073275900894, 0.47147392107833586, 0.46926147559915865, 0.46706969744492177, 0.4648982983692207, 0.4627469954616048, 0.4606155110237209, 0.4585035724503639, 0.4564109121133475, 0.4543372672477286, 0.45228237984300534, 0.45024599653467057, 0.4482278685014274, 0.44622775136282655, 0.4442454050811895]
Mastery_4th = [0,5.847484584552687, 0.05839866580694686, 0.05836458166990077, 0.058330537295847584, 0.058296532615154106, 0.0582625675584314, 0.05822864205655698, 0.058194756040297335, 0.05816090944099628, 0.05812710218970896, 0.058093334218001225, 0.0580596054572835, 0.05802591583954353, 0.057992265296435974, 0.05795865376023723, 0.05792508116297945, 0.05789154743713887, 0.057858052515236125, 0.05782459632990289, 0.05779117881408169, 0.05775779990062624, 0.05772445952281213, 0.05769115761387056, 0.057657894107343566, 0.057624668936728796, 0.05759148203587916, 0.05755833333862537, 0.057525222779197804, 0.057492150291649224, 0.05745911581038765]

#Mastery_4th = [0,8.270118395893245, 0.6859980703271873, 0.6813241994661379, 0.6767135860433982, 0.6721649544757735, 0.6676770632475293, 0.6632487037801837, 0.6588786993472429, 0.654565904032367, 0.6503092017271506, 0.6461075051679144, 0.6419597550106682, 0.6378649189396901, 0.6338219908118781, 0.6298299898315429, 0.6258879597582423, 0.6219949681423254, 0.618150105590054, 0.6143524850548809, 0.6106012411561057, 0.6068955295204015, 0.6032345261485439, 0.5996174268053434, 0.5960434464292508, 0.5925118185653222, 0.5890217948171017, 0.5855726443175779, 0.5821636532192587, 0.5787941242010763, 0.5754633759939898]

Evolve_tempest = [0, 1.2332544693079983, 0.11074823510526244, 0.11062571907383134, 0.11050347381134085, 0.11038149842101941, 0.11025979201055858, 0.11013835369086955, 0.11001718257697135, 0.10989627778874578, 0.6586538306879053, 0.10905732817834135, 0.1089385227359907, 0.10881997586191794, 0.10870168671268665, 0.10858365444867957, 0.10846587823454268, 0.1083483572370314, 0.1082310906286077, 0.10811407758302138, 0.6479839036784396, 0.10730201747803925, 0.10718700366090239, 0.1070722361390164, 0.10695771412301269, 0.106843436824966, 0.10672940346236892, 0.106615613254335, 0.10650206542430762, 0.10638875919812829, 1.1690326318690936]
Unbound = [0, 0.6454017347645724, 0.058296637469057444, 0.058262672290210205, 0.05822874666636668, 0.058194860528471004, 0.05816101380757832, 0.05812720643503244, 0.05809343834219938, 0.05805970946068939, 0.3481561183333204, 0.05782469949302538, 0.05779128185794402, 0.05775790282556148, 0.057724562328931306, 0.05769126030141791, 0.05765799667645233, 0.05762477138770983, 0.05759158436886569, 0.05755843555388385, 0.34515194926107995, 0.057327458037970125, 0.05729461249301959, 0.05726180456400165, 0.05722903418630132, 0.057196301295481256, 0.05716360582723734, 0.0571309477174875, 0.05709832690221628, 0.05706574331754144, 0.6273651658976087]
Obsidian = [0, 0.5636490377892267, 0.030023668349610233, 0.030014656848598165, 0.03000565075548245, 0.29452230304334304, 0.032202030971562046, 0.03219166460173284, 0.03218130490401094, 0.3021513061769232, 0.20601568698113137, 0.034265355822005183, 0.03425361869766608, 0.3201079886450797, 0.03635883098749293, 0.036345616146338244, 0.03633241090774675, 0.30619381956069613, 0.038246611079917336, 0.03823198863992516, 0.22930426425931127, 0.29952505106152216, 0.03986440591632334, 0.03984852054035315, 0.03983264781948215, 0.3075044721695397, 0.041535187142294205, 0.04151794258711039, 0.04150071234518826, 0.3085086827697703, 0.47456764678204255]
Ultimate = [0, 0.4931278691607366, 0.04460982281864201, 0.044589931329275245, 0.044570057571213795, 0.04455020152074329, 0.04453036315421599, 0.04451054244805075, 0.04449073937859982, 0.04447095392237088, 0.26670711633547395, 0.04433294693155787, 0.04431330153911173, 0.04429367354998881, 0.04427406294107428, 0.0442544696893199, 0.04423489377165524, 0.044215335165120884, 0.044195793846757425, 0.04417626979360545, 0.26494057789721026, 0.04404008293263928, 0.04402069618152371, 0.044001326491271975, 0.04398197383936875, 0.04396263820334312, 0.043943319560746374, 0.043924017889218625, 0.04390473316635557, 0.043885465369886134, 0.48252835925273185]
Forsaken = [0, 0.25902204757348724, 0.3807225903945666, 0.25824626586365973, 0.25758107236273364, 0.3808049071105657, 0.25681015017189335, 0.25615232500137974, 0.3808660912291595, 0.5433071843012227, 0.26114580065303983, 0.38778053937693624, 0.2603272698045611, 0.2596513265950229, 0.3877350404327684, 0.2588385792754222, 0.2581703348485842, 0.38767045410537104, 0.25736334961790064, 0.56073879057148, 0.39344001637908743, 0.26113467976540683, 0.26045454262957346, 0.3932886456044171, 0.2596135692670476, 0.25894132245749546, 0.39311997907824914, 0.258106775918443, 0.257442299898325, 1.5840447353528297]
Blast = [0, 1.9841042984850343, 0.40648060994343815, 0.48623154420421866, 0.4817439584634542, 0.403143356988811, 0.4856386084085784, 0.480114010669741, 0.39984374438573056, 0.48499869598213063, 0.47846601524148547, 0.39658153187251965, 0.484313933812075, 0.4768013237999691, 0.39335646351572606, 0.48358637014500605, 0.4751212290277085, 0.39016826905704516, 0.48281797720053365, 0.4734269669296909, 2.1036105761673696, 0.4907192326983445, 0.5104172315679056, 0.39420632117899146, 0.489675804099865, 0.5089759115473047, 0.39101926166211776, 0.48859503335072496, 0.5075058574217417, 0.38786725009101186, 0.48747887233329124]
Discharge = [0, 2.691168742040584, 0.4034758272622119, 0.40185444172959883, 0.4002460352589443, 0.3986504526273915, 0.3970675410778668, 0.3954971502682536, 0.3939391322264951, 0.39239334130294345, 0.3908596341248183, 0.38933786955226424, 0.38782790863516325, 0.38632961457036874, 0.38484285266109364, 0.38336749027565453, 0.38190339680808094, 0.3804504436400791, 0.3790085041055713, 0.37757745344677573, 0.37615716878827143, 0.37474752909250064, 0.3733484151317912, 0.37195970945214096, 0.3705812963383126, 0.36921306178818725, 0.36785489347281874, 0.36650668071289694, 0.36516831444499687, 0.3638396871918914, 0.3625206930360836]
Mastery_3rd = [0, 1.171215685827054, 0.5514369525649654, 0.5484128017237078, 0.5454216396285849, 0.5424629294245475, 0.539536145842523, 0.5366407748886415, 0.5337763135434992, 0.5309422694704802, 0.5281381607338709, 0.5253635155259007, 0.5226178719012653, 0.5199007775217757, 0.5172117894072015, 0.5145504736948192, 0.51191640540591, 0.5093091682195405, 0.5067283542533607, 0.504173563850685, 0.5016444053742353, 0.4991404950060785, 0.4966614565532934, 0.4942069212598543, 0.4917765276231556, 0.4893699212173974, 0.4869867545204354, 0.48462668674715825, 0.4822893836863962, 0.47997451754393516, 0.4776817667883737]
Mastery_4th = [0, 8.057172760456499, 0.7162296543370861, 0.7111362853784664, 0.7061148464886369, 0.7011638246247509, 0.69628174888412, 0.6914671890472457, 0.6867187541810704, 0.682035091299027, 0.6774148840758665, 0.6728568516146227, 0.6683597472617153, 0.6639223574712361, 0.6595435007128225, 0.6552220264222974, 0.6509568139944522, 0.6467467718141107, 0.6425908363241861, 0.6384879711306857, 0.6344371661404669, 0.6304374367326115, 0.6264878229600868, 0.6225873887820033, 0.6187352213241848, 0.6149304301661163, 0.6111721466555142, 0.6074595232473223, 0.6037917328654219, 0.6001679682895888, 0.5965874415625239]


cost4 = [0,50,15,18,20,23,25,28,30,33,100,40,45,50,55,60,65,70,75,80,175,85,90,95,100,105,110,115,120,125,250]
cost5 = [0,75,23,27,30,34,38,42,45,49,150,60,68,75,83,90,98,105,113,120,263,128,135,143,150,158,165,173,180,188,375]
cost6 = [0,30,35,40,45,50,55,60,65,200,80,90,100,110,120,130,140,150,160,350,170,180,190,200,210,220,230,240,250,500]

level1 = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]
level2 = [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]


cum_Evolve_tempest = np.cumprod(1 + np.array(Evolve_tempest)/100)
cum_Forsaken = np.cumprod(1 + np.array(Forsaken)/100)
cum_Blast = np.cumprod(1 + np.array(Blast)/100)
cum_Ultimate = np.cumprod(1 + np.array(Ultimate)/100)
cum_Unbound = np.cumprod(1 + np.array(Unbound)/100)
cum_Obsidian = np.cumprod(1 + np.array(Obsidian)/100)
cum_Discharge = np.cumprod(1 + np.array(Discharge)/100)
cum_3rd = np.cumprod(1 + np.array(Mastery_3rd)/100)
cum_4th = np.cumprod(1 + np.array(Mastery_4th)/100)

cum_cost4 = np.cumsum(cost4)
cum_cost5 = np.cumsum(cost5)
cum_cost6 = np.cumsum(cost6)

Evolve_tempest_eff = np.divide(Evolve_tempest, cost5)
Forsaken_eff= np.divide(Forsaken, cost6)
Blast_eff= np.divide(Blast, cost4)
Ultimate_eff= np.divide(Ultimate, cost5)
Unbound_eff= np.divide(Unbound, cost5)
Obsidian_eff= np.divide(Obsidian, cost5)
Discharge_eff = np.divide(Discharge, cost4)
Mastery_3rd_eff = np.divide(Mastery_3rd, cost4)
Mastery_4th_eff = np.divide(Mastery_4th, cost4)

plt.style.use('dark_background')
#plt.figure(figsize=(9, 5), dpi=500)
plt.figure(figsize=(6, 5), dpi=500)
plt.grid(alpha = 0.4)

plt.plot(cum_cost5, cum_Evolve_tempest, color ='thistle', label='Tempest')
plt.plot(cum_cost6, cum_Forsaken, color ='gold', label='Forsaken')
plt.plot(cum_cost4, cum_Blast, color ='blueviolet', label='Blast VI')
plt.plot(cum_cost5, cum_Ultimate, color ='deeppink', label='Ultimate')
plt.plot(cum_cost5, cum_Unbound, color ='cyan', label='Unbound')
plt.plot(cum_cost5, cum_Obsidian, color ='magenta', label='Obsidian')
plt.plot(cum_cost4, cum_Discharge, color ='deepskyblue', label='Discharge VI')
plt.plot(cum_cost4, cum_3rd, color = 'lawngreen', label='3rd Mastery')
plt.plot(cum_cost4, cum_4th, color = 'khaki', label='4th Mastery')

x = np.linspace(1, 2200, 2200) 
#y = 0.0013*np.sqrt(x-20) + 1.002
#plt.plot(x, y,linewidth = 4,color ='r')


#plt.scatter(cost4[0:], Blast[0:], color ='blueviolet', s=20, label='Blast VI')
#plt.scatter(cost5[0:], Evolve_tempest[0:], color ='thistle', s=20, label='Tempest')
#plt.scatter(cost5[0:], Ultimate[0:], color ='deeppink', s=20, label='Ultimate')
#plt.scatter(cost5[0:], Unbound[0:], color ='cyan', s=20, label='Unbound')
#plt.scatter(cost5[0:], Obsidian[0:], color ='magenta', s=20, label='Obsidian')
#plt.scatter(cost6[0:], Forsaken[0:], color ='gold', s=20, label='Forsaken')

plt.xlabel('Cummulative Erda Frag')
plt.ylabel('Damage Increase')

#plt.ylim([-0.001, 0.01])
#plt.xlim([-10, 520])
#plt.legend(loc = 'lower right')
plt.plot
